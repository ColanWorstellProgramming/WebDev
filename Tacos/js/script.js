// Script Loaded
console.log('script.js has been loaded');

// Element Array
var FadeElementsArray = [];
var InFromLeftElementsArray = [];
var InFromRightElementsArray = [];
var UpElementsArray = [];
var DownElementsArray = [];

// All Elements

// Header Elements
let obj_1 = document.getElementById("0001");
FadeElementsArray.push(obj_1);
InFromLeftElementsArray.push(obj_1);

let obj_2 = document.getElementById("0002");
FadeElementsArray.push(obj_2);
InFromRightElementsArray.push(obj_2);

// Footer Elements
let obj_3 = document.getElementById("0003");
FadeElementsArray.push(obj_3);
InFromLeftElementsArray.push(obj_3);

let obj_4 = document.getElementById("0004");
FadeElementsArray.push(obj_4);
InFromRightElementsArray.push(obj_4);

// Home Page Elements

// Section One
let obj_5 = document.getElementById("0005");
FadeElementsArray.push(obj_5);
InFromLeftElementsArray.push(obj_5);

// Section 2a
let obj_7 = document.getElementById("0007");
FadeElementsArray.push(obj_7);
InFromLeftElementsArray.push(obj_7);

// Section 2b
let obj_8 = document.getElementById("0008");
FadeElementsArray.push(obj_8);
InFromRightElementsArray.push(obj_8);

let obj_9 = document.getElementById("0009");
FadeElementsArray.push(obj_9);
InFromRightElementsArray.push(obj_9);

// Section 3
let obj_10 = document.getElementById("0010");
FadeElementsArray.push(obj_10);
InFromLeftElementsArray.push(obj_10);

let obj_11 = document.getElementById("0011");
FadeElementsArray.push(obj_11);
InFromLeftElementsArray.push(obj_11);

// Section 4
let obj_12 = document.getElementById("0012");
FadeElementsArray.push(obj_12);
InFromRightElementsArray.push(obj_12);

let obj_13 = document.getElementById("0013");
FadeElementsArray.push(obj_13);
InFromRightElementsArray.push(obj_13);

// Section 5
let obj_14 = document.getElementById("0014");
FadeElementsArray.push(obj_14);
InFromLeftElementsArray.push(obj_14);

// Section 6
let obj_15 = document.getElementById("0015");
FadeElementsArray.push(obj_15);
InFromRightElementsArray.push(obj_15);

// Section 7
let obj_16 = document.getElementById("0016");
FadeElementsArray.push(obj_16);
InFromLeftElementsArray.push(obj_16);

let obj_17 = document.getElementById("0017");
FadeElementsArray.push(obj_17);
InFromRightElementsArray.push(obj_17);

let obj_18 = document.getElementById("0018");
FadeElementsArray.push(obj_18);
InFromLeftElementsArray.push(obj_18);

let obj_19 = document.getElementById("0019");
FadeElementsArray.push(obj_19);
InFromRightElementsArray.push(obj_19);

let obj_20 = document.getElementById("0020");
FadeElementsArray.push(obj_20);
InFromLeftElementsArray.push(obj_20);

let obj_21 = document.getElementById("0021");
FadeElementsArray.push(obj_21);
InFromRightElementsArray.push(obj_21);

let obj_22 = document.getElementById("0022");
FadeElementsArray.push(obj_22);
UpElementsArray.push(obj_22);

let obj_23 = document.getElementById("0023");
FadeElementsArray.push(obj_23);
DownElementsArray.push(obj_23);

let obj_24 = document.getElementById("0024");
FadeElementsArray.push(obj_24);
UpElementsArray.push(obj_24);

let obj_25 = document.getElementById("0025");
FadeElementsArray.push(obj_25);
DownElementsArray.push(obj_25);

let obj_26 = document.getElementById("0026");
FadeElementsArray.push(obj_26);
UpElementsArray.push(obj_26);

// Section 8
let obj_27 = document.getElementById("0027");
FadeElementsArray.push(obj_27);
InFromLeftElementsArray.push(obj_27);

let obj_28 = document.getElementById("0028");
FadeElementsArray.push(obj_28);
InFromRightElementsArray.push(obj_28);



// Shells Page

// Section 1
let obj_29 = document.getElementById("0029");
FadeElementsArray.push(obj_29);
InFromLeftElementsArray.push(obj_29);

// Setcion 2 - Same As Section 8 In Home Page



// Displays Page

// Section 1
let obj_30 = document.getElementById("0030");
FadeElementsArray.push(obj_30);
InFromLeftElementsArray.push(obj_30);

// Setcion 2 - Same As Section 8 In Home Page



// Merch Page

// Section 1
let obj_31 = document.getElementById("0031");
FadeElementsArray.push(obj_31);
InFromLeftElementsArray.push(obj_31);

// Setcion 2 - Same As Section 8 In Home Page



// About Page

// Section 1
let obj_32 = document.getElementById("0032");
FadeElementsArray.push(obj_32);
InFromLeftElementsArray.push(obj_32);

// Section 2
let obj_33 = document.getElementById("0033");
FadeElementsArray.push(obj_33);
InFromRightElementsArray.push(obj_33);

// Section 3
let obj_34 = document.getElementById("0034");
FadeElementsArray.push(obj_34);
InFromLeftElementsArray.push(obj_34);

let obj_35 = document.getElementById("0035");
FadeElementsArray.push(obj_35);
InFromRightElementsArray.push(obj_35);

// Section 4
let obj_36 = document.getElementById("0036");
FadeElementsArray.push(obj_36);
InFromLeftElementsArray.push(obj_36);

let obj_37 = document.getElementById("0037");
FadeElementsArray.push(obj_37);
InFromRightElementsArray.push(obj_37);

// Section 5
let obj_38 = document.getElementById("0038");
FadeElementsArray.push(obj_38);
InFromLeftElementsArray.push(obj_38);

let obj_39 = document.getElementById("0039");
FadeElementsArray.push(obj_39);
InFromRightElementsArray.push(obj_39);



// Contact Page

// Section 1
let obj_40 = document.getElementById("0040");
FadeElementsArray.push(obj_40);
InFromLeftElementsArray.push(obj_40);

// Section 2
let obj_41 = document.getElementById("0041");
FadeElementsArray.push(obj_41);
DownElementsArray.push(obj_41);

let obj_42 = document.getElementById("0042");
FadeElementsArray.push(obj_42);
InFromLeftElementsArray.push(obj_42);

let obj_43 = document.getElementById("0043");
FadeElementsArray.push(obj_43);
InFromRightElementsArray.push(obj_43);

let obj_44 = document.getElementById("0044");
FadeElementsArray.push(obj_44);
UpElementsArray.push(obj_44);

let obj_45 = document.getElementById("0045");
FadeElementsArray.push(obj_45);
InFromLeftElementsArray.push(obj_45);

let obj_46 = document.getElementById("0046");
FadeElementsArray.push(obj_46);
InFromRightElementsArray.push(obj_46);

let obj_47 = document.getElementById("0047");
FadeElementsArray.push(obj_47);
InFromLeftElementsArray.push(obj_47);

let obj_48 = document.getElementById("0048");
FadeElementsArray.push(obj_48);
InFromRightElementsArray.push(obj_48);



// -------------------------------------------------------------------------------------

// Run Script
checkElements();
var intervalId = setInterval(checkElements, 10);

// When In Frame
function checkElements() {
    console.log("Running");
    for (var i = 0; i < FadeElementsArray.length; i++) {
        if (isAnyPartOfElementInViewport(FadeElementsArray[i]))
        {
          runMicroInteractionFade(FadeElementsArray[i])
          FadeElementsArray.splice(i, 1);
          i--;
        }
    }
    for (var i = 0; i < InFromLeftElementsArray.length; i++) {
        if (isAnyPartOfElementInViewport(InFromLeftElementsArray[i]))
        {
          runMicroInteractionInFromLeft(InFromLeftElementsArray[i])
          InFromLeftElementsArray.splice(i, 1);
          i--;
        }
    }
    for (var i = 0; i < InFromRightElementsArray.length; i++) {
        if (isAnyPartOfElementInViewport(InFromRightElementsArray[i]))
        {
          runMicroInteractionInFromRight(InFromRightElementsArray[i])
          InFromRightElementsArray.splice(i, 1);
          i--;
        }
    }
    for (var i = 0; i < UpElementsArray.length; i++) {
        if (isAnyPartOfElementInViewport(UpElementsArray[i]))
        {
          runMicroInteractionUp(UpElementsArray[i])
          UpElementsArray.splice(i, 1);
          i--;
        }
    }
    for (var i = 0; i < DownElementsArray.length; i++) {
        if (isAnyPartOfElementInViewport(DownElementsArray[i]))
        {
          runMicroInteractionDown(DownElementsArray[i])
          DownElementsArray.splice(i, 1);
          i--;
        }
    }
    if (FadeElementsArray.length === 0 && InFromLeftElementsArray.length === 0 && InFromRightElementsArray.length === 0 && UpElementsArray.length === 0 && DownElementsArray.length === 0) {
        clearInterval(intervalId);
        console.log("Stopping");
    }
}

// Frame Check Function
function isAnyPartOfElementInViewport(element) {
    try {
        var rect = element.getBoundingClientRect();
    } catch (error) {
        return;
    }

    return (
      rect.top <= (window.innerHeight || document.documentElement.clientHeight) &&
      rect.bottom >= 0 &&
      rect.left <= (window.innerWidth || document.documentElement.clientWidth) &&
      rect.right >= 0
    );
}

function runMicroInteractionInFromLeft(element) {

    element.style.transform = 'translateX(-200px)';

    var targetPosition = 0;

    setTimeout(function() {
        element.style.transform = 'translateX(' + targetPosition + 'px)';
        element.style.transition = 'transform 1s ease-out';
    }, 0);

}

function runMicroInteractionInFromRight(element) {

    element.style.transform = 'translateX(200px)';

    var targetPosition = 0;

    setTimeout(function() {
        element.style.transform = 'translateX(' + targetPosition + 'px)';
        element.style.transition = 'transform 1s ease-out';
    }, 0);

 }

 function runMicroInteractionUp(element) {

    element.style.transform = 'translateY(200px)';

    var targetPosition = 0;

    setTimeout(function() {
        element.style.transform = 'translateY(' + targetPosition + 'px)';
        element.style.transition = 'transform 1s ease-out';
    }, 0);

 }

 function runMicroInteractionDown(element) {

    element.style.transform = 'translateY(-200px)';

    var targetPosition = 0;

    setTimeout(function() {
        element.style.transform = 'translateY(' + targetPosition + 'px)';
        element.style.transition = 'transform 1s ease-out';
    }, 0);

 }

function runMicroInteractionFade(element) {

    let opacity = 0;

    function fade() {
        if (opacity >= 1) {
           return;
        }

        opacity += 0.005;
        element.style.opacity = opacity;

        requestAnimationFrame(fade);
    }

    requestAnimationFrame(fade);

}